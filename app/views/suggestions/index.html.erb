<div class="min-h-screen bg-gradient-to-br from-indigo-700 via-purple-600 to-pink-400 py-12 px-4">
  <!-- BLOCO REMOVIDO: Sugestões de Horários por Paciente -->

  <!-- Sugestões para profissionais -->
  <div class="w-full" data-controller="suggestion">
    <!-- Dropdown de seleção de sala -->
    <div class="flex flex-wrap gap-4 items-center mb-4">
      <%= form_with url: suggestions_path, method: :get, local: true, class: "mr-4" do %>
        <label for="room_id" class="mr-2 font-semibold text-white">Sala:</label>
        <select name="room_id" id="room_id" class="rounded px-3 py-2" onchange="this.form.submit()">
          <% @rooms.each do |room| %>
            <option value="<%= room.id %>" <%= room == (@selected_room || @rooms.first) ? 'selected' : '' %>>
              <%= room.name %>
            </option>
          <% end %>
        </select>
      <% end %>
    </div>
    <!-- Fim do dropdown de sala -->
    <div class="flex flex-wrap gap-4 items-end mb-8 justify-between w-full">
      <h2 class="text-3xl font-extrabold text-white text-center w-full drop-shadow mb-6">Sugestões de Pacientes por Profissional</h2>
      <button id="btn-simular-horario"
        class="bg-indigo-600 text-white px-6 py-3 rounded-lg shadow-md hover:bg-indigo-700 transition text-lg font-semibold">
        Fazer as sugestões de horário da semana
      </button>
      <button id="btn-ver-tabela-atual"
        class="bg-gray-200 text-indigo-700 px-6 py-3 rounded-lg shadow-md hover:bg-gray-300 transition text-lg font-semibold ml-4"
        data-action="click->suggestion#toggleTabelaAtual">
        Ver tabela atual
      </button>
    </div>
    <div class="flex flex-col lg:flex-row gap-12 w-full">
      <div id="simulacao-horario-semanal" class="mb-8 w-full overflow-x-auto bg-blue-50 rounded-2xl shadow-xl border border-blue-200">
        <h2 class="text-2xl font-extrabold text-center mb-6 mt-2 text-blue-900 drop-shadow">Sugestão de horários</h2>
        <%= render partial: 'simulacao_grade', locals: { grade: @suggestions, week_days: @week_days, hours: @hours, rooms: @rooms, tabela_tipo: 'sugestao', selected_room: @selected_room } %>
      </div>
      <div id="tabela-atual" class="mb-8 w-full hidden bg-yellow-50 rounded-2xl shadow-xl border border-yellow-200 overflow-x-auto">
        <h2 class="text-2xl font-extrabold text-center mb-6 mt-2 text-yellow-800 drop-shadow">Oficial</h2>
        <%= render partial: 'simulacao_grade', locals: { grade: @grade_atual, week_days: @week_days, hours: @hours, rooms: @rooms, tabela_tipo: 'atual', selected_room: @selected_room } %>
      </div>
    </div>
  </div>
</div>
