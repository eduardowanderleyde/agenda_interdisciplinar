<% cache(appointment) do %>
  <div id="appointment_<%= appointment.id %>" class="p-5 bg-white rounded-2xl shadow-md border border-indigo-100 hover:shadow-xl transition duration-300 space-y-3">
    <div>
      <p class="text-lg font-bold text-indigo-800"><%= appointment.patient.name %></p>
      <p class="text-sm text-gray-700">
        Profissional: <%= appointment.professional.name %><br>
        Área: <%= appointment.professional.specialties.map(&:name).join(', ') %><br>
        Sala: <%= appointment.room.name %><br>
        <%= l(appointment.start_time, format: :short) %> - <%= appointment.duration %> min
      </p>
    </div>

    <div class="flex flex-wrap gap-2">
      <%= link_to appointment_path(appointment), class: "text-white bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg text-sm font-semibold transition" do %>
        🔍 Detalhes
      <% end %>

      <%= link_to edit_appointment_path(appointment), data: { turbo_frame: "modal" }, class: "text-white bg-indigo-500 hover:bg-indigo-600 px-4 py-2 rounded-lg text-sm font-semibold transition" do %>
        ✏️ Editar
      <% end %>

      <%= button_to appointment_path(appointment), method: :delete, data: { confirm: 'Tem certeza que deseja excluir este agendamento?' }, class: "text-white bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg text-sm font-semibold transition" do %>
        ❌ Deletar
      <% end %>
    </div>
  </div>
<% end %>
